#!/usr/bin/env python3
# This file is placed in the Public Domain.

__version__ = 50

import ob
ob.wd = "/var/lib/botd"

from trm import Runtime, daemon, wrap

import bot.all

k = Runtime()
k.cfg.name = "botd"
k.cfg.version = __version__

m = "bot.irc,bot.rss"

def main():
    k.boot(disk=True)
    if k.opts("d"):
        daemon()
    k.privileges()
    k.start()
    k.init(m)
    k.wait()


wrap(main)
