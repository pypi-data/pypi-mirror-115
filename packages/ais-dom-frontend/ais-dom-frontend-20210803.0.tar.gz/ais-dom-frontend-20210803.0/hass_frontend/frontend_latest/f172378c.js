(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[27049],{49706:(e,t,r)=>{"use strict";r.d(t,{Rb:()=>n,Zy:()=>i,h2:()=>o,PS:()=>s,l:()=>a,ht:()=>c,f0:()=>l,tj:()=>d,uo:()=>u,lC:()=>f,Kk:()=>p,iY:()=>h,ot:()=>m,gD:()=>y,AZ:()=>g});const n="hass:bookmark",i={alert:"hass:alert",alexa:"hass:amazon-alexa",air_quality:"hass:air-filter",automation:"hass:robot",calendar:"hass:calendar",camera:"hass:video",climate:"hass:thermostat",configurator:"hass:cog",conversation:"hass:text-to-speech",counter:"hass:counter",device_tracker:"hass:account",fan:"hass:fan",google_assistant:"hass:google-assistant",group:"hass:google-circles-communities",homeassistant:"hass:home-assistant",homekit:"hass:home-automation",image_processing:"hass:image-filter-frames",input_boolean:"hass:toggle-switch-outline",input_datetime:"hass:calendar-clock",input_number:"hass:ray-vertex",input_select:"hass:format-list-bulleted",input_text:"hass:form-textbox",light:"hass:lightbulb",mailbox:"hass:mailbox",notify:"hass:comment-alert",number:"hass:ray-vertex",persistent_notification:"hass:bell",person:"hass:account",plant:"hass:flower",proximity:"hass:apple-safari",remote:"hass:remote",scene:"hass:palette",script:"hass:script-text",select:"hass:format-list-bulleted",sensor:"hass:eye",simple_alarm:"hass:bell",sun:"hass:white-balance-sunny",switch:"hass:flash",timer:"hass:timer-outline",updater:"hass:cloud-upload",vacuum:"hass:robot-vacuum",water_heater:"hass:thermometer",weather:"hass:weather-cloudy",zone:"hass:map-marker-radius"},o={current:"hass:current-ac",carbon_dioxide:"mdi:molecule-co2",carbon_monoxide:"mdi:molecule-co",energy:"hass:lightning-bolt",humidity:"hass:water-percent",illuminance:"hass:brightness-5",temperature:"hass:thermometer",monetary:"mdi:cash",pressure:"hass:gauge",power:"hass:flash",power_factor:"hass:angle-acute",signal_strength:"hass:wifi",timestamp:"hass:clock",voltage:"hass:sine-wave"},s=["climate","cover","configurator","input_select","input_number","input_text","lock","media_player","number","scene","script","select","timer","vacuum","water_heater"],a=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","fan","group","humidifier","input_datetime","light","lock","media_player","person","remote","script","sun","timer","vacuum","water_heater","weather"],c=["input_number","input_select","input_text","number","scene","select"],l=["camera","configurator","scene"],d=["closed","locked","off"],u="on",f="off",p=new Set(["fan","input_boolean","light","switch","group","automation","humidifier"]),h=new Set(["camera","media_player"]),m="°C",y="°F",g=["ff0029","66a61e","377eb8","984ea3","00d2d5","ff7f00","af8d00","7f80cd","b3e900","c42e60","a65628","f781bf","8dd3c7","bebada","fb8072","80b1d3","fdb462","fccde5","bc80bd","ffed6f","c4eaff","cf8c00","1b9e77","d95f02","e7298a","e6ab02","a6761d","0097ff","00d067","f43600","4ba93b","5779bb","927acc","97ee3f","bf3947","9f5b00","f48758","8caed6","f2b94f","eff26e","e43872","d9b100","9d7a00","698cff","d9d9d9","00d27e","d06800","009f82","c49200","cbe8ff","fecddf","c27eb6","8cd2ce","c4b8d9","f883b0","a49100","f48800","27d0df","a04a9b"]},43274:(e,t,r)=>{"use strict";r.d(t,{Sb:()=>n,BF:()=>i,Op:()=>o});const n=function(){try{(new Date).toLocaleDateString("i")}catch(e){return"RangeError"===e.name}return!1}(),i=function(){try{(new Date).toLocaleTimeString("i")}catch(e){return"RangeError"===e.name}return!1}(),o=function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()},12198:(e,t,r)=>{"use strict";r.d(t,{p6:()=>a,mn:()=>l,D_:()=>u});var n=r(68928),i=r(14516),o=r(43274);const s=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric"}))),a=o.Sb?(e,t)=>s(t).format(e):e=>(0,n.WU)(e,"longDate"),c=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short"}))),l=o.Sb?(e,t)=>c(t).format(e):e=>(0,n.WU)(e,"shortDate"),d=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric"}))),u=o.Sb?(e,t)=>d(t).format(e):e=>(0,n.WU)(e,"dddd, MMM D")},44583:(e,t,r)=>{"use strict";r.d(t,{o:()=>c,E:()=>d});var n=r(68928),i=r(14516),o=r(43274),s=r(65810);const a=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:(0,s.y)(e)}))),c=o.Op?(e,t)=>a(t).format(e):(e,t)=>(0,n.WU)(e,((0,s.y)(t)," A")),l=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:(0,s.y)(e)}))),d=o.Op?(e,t)=>l(t).format(e):(e,t)=>(0,n.WU)(e,((0,s.y)(t)," A"))},49684:(e,t,r)=>{"use strict";r.d(t,{mr:()=>c,Vu:()=>d,xO:()=>f});var n=r(68928),i=r(14516),o=r(43274),s=r(65810);const a=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hour12:(0,s.y)(e)}))),c=o.BF?(e,t)=>a(t).format(e):(e,t)=>(0,n.WU)(e,((0,s.y)(t)," A")),l=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:(0,s.y)(e)}))),d=o.BF?(e,t)=>l(t).format(e):(e,t)=>(0,n.WU)(e,((0,s.y)(t)," A")),u=(0,i.Z)((e=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:"numeric",minute:"2-digit",hour12:(0,s.y)(e)}))),f=o.BF?(e,t)=>u(t).format(e):(e,t)=>(0,n.WU)(e,((0,s.y)(t)," A"))},65810:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(66477);const i=e=>{if(e.time_format===n.zt.language||e.time_format===n.zt.system){const t=e.time_format===n.zt.language?e.language:void 0,r=(new Date).toLocaleString(t);return r.includes("AM")||r.includes("PM")}return e.time_format===n.zt.am_pm}},29171:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(56007),i=r(12198),o=r(44583),s=r(49684),a=r(45524),c=r(22311);const l=(e,t,r,l)=>{const d=void 0!==l?l:t.state;if(d===n.lz||d===n.nZ)return e(`state.default.${d}`);if(t.attributes.unit_of_measurement){if("monetary"===t.attributes.device_class)try{return(0,a.u)(d,r,{style:"currency",currency:t.attributes.unit_of_measurement})}catch(e){}return`${(0,a.u)(d,r)} ${t.attributes.unit_of_measurement}`}const u=(0,c.N)(t);if("input_datetime"===u){if(!l){let e;return t.attributes.has_time?t.attributes.has_date?(e=new Date(t.attributes.year,t.attributes.month-1,t.attributes.day,t.attributes.hour,t.attributes.minute),(0,o.o)(e,r)):(e=new Date,e.setHours(t.attributes.hour,t.attributes.minute),(0,s.mr)(e,r)):(e=new Date(t.attributes.year,t.attributes.month-1,t.attributes.day),(0,i.p6)(e,r))}try{const e=l.split(" ");if(2===e.length)return(0,o.o)(new Date(e.join("T")),r);if(1===e.length){if(l.includes("-"))return(0,i.p6)(new Date(`${l}T00:00`),r);if(l.includes(":")){const e=new Date;return(0,s.mr)(new Date(`${e.toISOString().split("T")[0]}T${l}`),r)}}return l}catch{return l}}return"humidifier"===u&&"on"===d&&t.attributes.humidity?`${t.attributes.humidity} %`:"counter"===u||"number"===u||"input_number"===u?(0,a.u)(d,r):t.attributes.device_class&&e(`component.${u}.state.${t.attributes.device_class}.${d}`)||e(`component.${u}.state._.${d}`)||d}},22311:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(58831);const i=e=>(0,n.M)(e.entity_id)},27593:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});const n=(e,t=2)=>Math.round(e*10**t)/10**t},85415:(e,t,r)=>{"use strict";r.d(t,{q:()=>n,w:()=>i});const n=(e,t)=>e<t?-1:e>t?1:0,i=(e,t)=>n(e.toLowerCase(),t.toLowerCase())},45524:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,u:()=>s});var n=r(66477),i=r(27593);const o=e=>{switch(e.number_format){case n.y4.comma_decimal:return["en-US","en"];case n.y4.decimal_comma:return["de","es","it"];case n.y4.space_comma:return["fr","sv","cs"];case n.y4.system:return;default:return e.language}},s=(e,t,r)=>{const s=t?o(t):void 0;if(Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)!==n.y4.none&&!Number.isNaN(Number(e))&&Intl)try{return new Intl.NumberFormat(s,a(e,r)).format(Number(e))}catch(t){return console.error(t),new Intl.NumberFormat(void 0,a(e,r)).format(Number(e))}return"string"==typeof e?e:`${(0,i.N)(e,null==r?void 0:r.maximumFractionDigits).toString()}${"currency"===(null==r?void 0:r.style)?` ${r.currency}`:""}`},a=(e,t)=>{const r={maximumFractionDigits:2,...t};if("string"!=typeof e)return r;if(!t||!t.minimumFractionDigits&&!t.maximumFractionDigits){const t=e.indexOf(".")>-1?e.split(".")[1].length:0;r.minimumFractionDigits=t,r.maximumFractionDigits=t}return r}},11950:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=async(e,t)=>new Promise((r=>{const n=t(e,(e=>{n(),r(e)}))}))},22098:(e,t,r)=>{"use strict";var n=r(50424),i=r(55358);function o(){o=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(r){t.forEach((function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach((function(n){t.forEach((function(t){var i=t.placement;if(t.kind===n&&("static"===i||"prototype"===i)){var o="static"===i?e:r;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!c(e))return r.push(e);var t=this.decorateElement(e,i);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)}),this),!t)return{elements:r,finishers:n};var o=this.decorateConstructor(r,t);return n.push.apply(n,o.finishers),o.finishers=n,o},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&n.push(c.finisher);var l=c.extras;if(l){for(var d=0;d<l.length;d++)this.addElementPlacement(l[d],t);r.push.apply(r,l)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[n])(i)||i);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=u(e.key),n=String(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:n,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:d(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=d(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function s(e){var t,r=u(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function a(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function c(e){return e.decorators&&e.decorators.length}function l(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function d(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e,t,r,n){var i=o();if(n)for(var d=0;d<n.length;d++)i=n[d](i);var u=t((function(e){i.initializeInstanceElements(e,f.elements)}),r),f=i.decorateClass(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},n=0;n<e.length;n++){var i,o=e[n];if("method"===o.kind&&(i=t.find(r)))if(l(o.descriptor)||l(i.descriptor)){if(c(o)||c(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(c(o)){if(c(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}a(o,i)}else t.push(o)}return t}(u.d.map(s)),e);i.initializeClassElements(u.F,f.elements),i.runClassFinishers(u.F,f.finishers)}([(0,i.Mo)("ha-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,i.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,i.Cb)({type:Boolean,reflect:!0})],key:"outlined",value:()=>!1},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`
      :host {
        background: var(
          --ha-card-background,
          var(--card-background-color, white)
        );
        border-radius: var(--ha-card-border-radius, 4px);
        box-shadow: var(
          --ha-card-box-shadow,
          0px 2px 1px -1px rgba(0, 0, 0, 0.2),
          0px 1px 1px 0px rgba(0, 0, 0, 0.14),
          0px 1px 3px 0px rgba(0, 0, 0, 0.12)
        );
        color: var(--primary-text-color);
        display: block;
        transition: all 0.3s ease-out;
        position: relative;
      }

      :host([outlined]) {
        box-shadow: none;
        border-width: var(--ha-card-border-width, 1px);
        border-style: solid;
        border-color: var(
          --ha-card-border-color,
          var(--divider-color, #e0e0e0)
        );
      }

      .card-header,
      :host ::slotted(.card-header) {
        color: var(--ha-card-header-color, --primary-text-color);
        font-family: var(--ha-card-header-font-family, inherit);
        font-size: var(--ha-card-header-font-size, 24px);
        letter-spacing: -0.012em;
        line-height: 48px;
        padding: 12px 16px 16px;
        display: block;
        margin-block-start: 0px;
        margin-block-end: 0px;
        font-weight: normal;
      }

      :host ::slotted(.card-content:not(:first-child)),
      slot:not(:first-child)::slotted(.card-content) {
        padding-top: 0px;
        margin-top: -8px;
      }

      :host ::slotted(.card-content) {
        padding: 16px;
      }

      :host ::slotted(.card-actions) {
        border-top: 1px solid var(--divider-color, #e8e8e8);
        padding: 5px 16px;
      }
    `}},{kind:"method",key:"render",value:function(){return n.dy`
      ${this.header?n.dy`<h1 class="card-header">${this.header}</h1>`:n.dy``}
      <slot></slot>
    `}}]}}),n.oi)},81582:(e,t,r)=>{"use strict";r.d(t,{LZ:()=>n,pB:()=>i,SO:()=>o,iJ:()=>s,Nn:()=>a,Ny:()=>c,T0:()=>l});const n=32143==r.j?["migration_error","setup_error","setup_retry"]:null,i=e=>e.callApi("GET","config/config_entries/entry"),o=(e,t,r)=>e.callWS({type:"config_entries/update",entry_id:t,...r}),s=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),a=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),c=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),l=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null})},73728:(e,t,r)=>{"use strict";r.d(t,{pV:()=>s,P3:()=>a,Ky:()=>l,D4:()=>d,XO:()=>u,zO:()=>f,oi:()=>p,d4:()=>h,D7:()=>m,ZJ:()=>g,V3:()=>_,WW:()=>v});var n=r(95282),i=r(38346),o=r(5986);const s=["unignore","dhcp","homekit","ssdp","zeroconf","discovery","mqtt","hassio"],a=["reauth"],c={"HA-Frontend-Base":`${location.protocol}//${location.host}`},l=(e,t)=>{var r;return e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(r=e.userData)||void 0===r?void 0:r.showAdvanced)},c)},d=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`,void 0,c),u=(e,t,r)=>e.callApi("POST",`config/config_entries/flow/${t}`,r,c),f=(e,t,r)=>e.callWS({type:"config_entries/ignore_flow",flow_id:t,title:r}),p=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),h=e=>e.callApi("GET","config/config_entries/flow_handlers"),m=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),y=(e,t)=>e.subscribeEvents((0,i.D)((()=>m(e).then((e=>t.setState(e,!0)))),500,!0),"config_entry_discovered"),g=e=>(0,n._)(e,"_configFlowProgress",m,y),_=(e,t)=>g(e.connection).subscribe(t),v=(e,t)=>{const r=t.context.title_placeholders||{},n=Object.keys(r);if(0===n.length)return(0,o.Lh)(e,t.handler);const i=[];return n.forEach((e=>{i.push(e),i.push(r[e])})),e(`component.${t.handler}.config.flow_title`,...i)}},55424:(e,t,r)=>{"use strict";r.d(t,{Bm:()=>h,o1:()=>m,iK:()=>y,rl:()=>g,ZC:()=>v,_Z:()=>b,Jj:()=>w,UB:()=>E});var n=r(59699),i=r(27088),o=r(83008),s=r(70390),a=r(61334),c=r(95282),l=r(11950),d=r(81582),u=r(74186),f=r(58763);const p=[],h=()=>({stat_energy_from:"",stat_cost:null,entity_energy_from:null,entity_energy_price:null,number_energy_price:null}),m=()=>({stat_energy_to:"",stat_compensation:null,entity_energy_to:null,entity_energy_price:null,number_energy_price:null}),y=()=>({type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}),g=()=>({type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}),_=e=>e.callWS({type:"energy/info"}),v=e=>e.callWS({type:"energy/get_prefs"}),b=async(e,t)=>{const r=e.callWS({type:"energy/save_prefs",...t});return k(e),r},w=e=>{const t={};for(const r of e.energy_sources)r.type in t?t[r.type].push(r):t[r.type]=[r];return t},k=e=>{p.forEach((t=>{const r=E(e,{key:t});r.clearPrefs(),r._active&&r.refresh()}))},E=(e,t={})=>{let r="_energy";if(t.key){if(!t.key.startsWith("energy_"))throw new Error("Key need to start with energy_");r=`_${t.key}`}if(e.connection[r])return e.connection[r];p.push(t.key||"energy");const h=(0,c._)(e.connection,r,(async()=>{if(h.prefs||(h.prefs=await v(e)),h._refreshTimeout&&clearTimeout(h._refreshTimeout),h._active&&(!h.end||h.end>new Date)){const e=new Date;e.getMinutes()>20&&e.setHours(e.getHours()+1),e.setMinutes(20),h._refreshTimeout=window.setTimeout((()=>h.refresh()),e.getTime()-Date.now())}return(async(e,t,r,i)=>{const[o,s,a]=await Promise.all([(0,d.pB)(e),(0,l.l)(e.connection,u.LM),_(e)]),c=o.find((e=>"co2signal"===e.domain));let p;if(c)for(const t of s){if(t.config_entry_id!==c.entry_id)continue;const r=e.states[t.entity_id];if(r&&"%"===r.attributes.unit_of_measurement){p=r.entity_id;break}}const h=[];void 0!==p&&h.push(p);for(const e of t.energy_sources)if("solar"!==e.type){for(const t of e.flow_from){h.push(t.stat_energy_from),t.stat_cost&&h.push(t.stat_cost);const e=a.cost_sensors[t.stat_energy_from];e&&h.push(e)}for(const t of e.flow_to){h.push(t.stat_energy_to),t.stat_compensation&&h.push(t.stat_compensation);const e=a.cost_sensors[t.stat_energy_to];e&&h.push(e)}}else h.push(e.stat_energy_from);return{start:r,end:i,info:a,prefs:t,stats:await(0,f.dL)(e,(0,n.Z)(r,-1),i,h),co2SignalConfigEntry:c,co2SignalEntity:p}})(e,h.prefs,h.start,h.end)})),m=h.subscribe;h.subscribe=e=>{const t=m(e);return h._active++,()=>{h._active--,h._active<1&&(clearTimeout(h._refreshTimeout),h._refreshTimeout=void 0),t()}},h._active=0,h.prefs=t.prefs;const y=new Date;h.start=y.getHours()>0?(0,i.Z)():(0,o.Z)(),h.end=y.getHours()>0?(0,s.Z)():(0,a.Z)();const g=()=>{h._updatePeriodTimeout=window.setTimeout((()=>{h.start=(0,i.Z)(),h.end=(0,s.Z)(),g()}),(0,n.Z)((0,s.Z)(),1).getTime()-Date.now())};return g(),h.clearPrefs=()=>{h.prefs=void 0},h.setPeriod=(e,t)=>{var r;h.start=e,h.end=t,h._updatePeriodTimeout&&(clearTimeout(h._updatePeriodTimeout),h._updatePeriodTimeout=void 0),h.start.getTime()===(0,i.Z)().getTime()&&(null===(r=h.end)||void 0===r?void 0:r.getTime())===(0,s.Z)().getTime()&&g()},h}},56007:(e,t,r)=>{"use strict";r.d(t,{nZ:()=>n,lz:()=>i,V_:()=>o});const n="unavailable",i="unknown",o=[n,i]},74186:(e,t,r)=>{"use strict";r.d(t,{eD:()=>s,Mw:()=>a,vA:()=>c,L3:()=>l,Nv:()=>d,z3:()=>u,LM:()=>h});var n=r(95282),i=r(91741),o=r(38346);const s=(e,t)=>t.find((t=>e.states[t.entity_id]&&"battery"===e.states[t.entity_id].attributes.device_class)),a=(e,t)=>t.find((t=>e.states[t.entity_id]&&"battery_charging"===e.states[t.entity_id].attributes.device_class)),c=(e,t)=>{if(t.name)return t.name;const r=e.states[t.entity_id];return r?(0,i.C)(r):null},l=(e,t)=>e.callWS({type:"config/entity_registry/get",entity_id:t}),d=(e,t,r)=>e.callWS({type:"config/entity_registry/update",entity_id:t,...r}),u=(e,t)=>e.callWS({type:"config/entity_registry/remove",entity_id:t}),f=e=>e.sendMessagePromise({type:"config/entity_registry/list"}),p=(e,t)=>e.subscribeEvents((0,o.D)((()=>f(e).then((e=>t.setState(e,!0)))),500,!0),"entity_registry_updated"),h=(e,t)=>(0,n.B)("_entityRegistry",f,p,e,t)},58763:(e,t,r)=>{"use strict";r.d(t,{vq:()=>c,_J:()=>l,Nu:()=>u,uR:()=>f,dL:()=>p,Kj:()=>h,q6:()=>m,Nw:()=>y,m2:()=>_});var n=r(29171),i=r(22311),o=r(91741);const s=["climate","humidifier","water_heater"],a=["temperature","current_temperature","target_temp_low","target_temp_high","hvac_action","humidity","mode"],c=(e,t,r,n,i=!1,o,s=!0)=>{let a="history/period";return r&&(a+="/"+r.toISOString()),a+="?filter_entity_id="+t,n&&(a+="&end_time="+n.toISOString()),i&&(a+="&skip_initial_state"),void 0!==o&&(a+=`&significant_changes_only=${Number(o)}`),s&&(a+="&minimal_response"),e.callApi("GET",a)},l=(e,t,r,n)=>e.callApi("GET",`history/period/${t.toISOString()}?end_time=${r.toISOString()}&minimal_response${n?`&filter_entity_id=${n}`:""}`),d=(e,t)=>e.state===t.state&&(!e.attributes||!t.attributes||a.every((r=>e.attributes[r]===t.attributes[r]))),u=(e,t,r)=>{const c={},l=[];if(!t)return{line:[],timeline:[]};t.forEach((t=>{if(0===t.length)return;const s=t.find((e=>e.attributes&&"unit_of_measurement"in e.attributes));let a;a=s?s.attributes.unit_of_measurement:{climate:e.config.unit_system.temperature,counter:"#",humidifier:"%",input_number:"#",number:"#",water_heater:e.config.unit_system.temperature}[(0,i.N)(t[0])],a?a in c?c[a].push(t):c[a]=[t]:l.push(((e,t,r)=>{const i=[],s=r.length-1;for(const o of r)i.length>0&&o.state===i[i.length-1].state||(o.entity_id||(o.attributes=r[s].attributes,o.entity_id=r[s].entity_id),i.push({state_localize:(0,n.D)(e,o,t),state:o.state,last_changed:o.last_changed}));return{name:(0,o.C)(r[0]),entity_id:r[0].entity_id,data:i}})(r,e.locale,t))}));return{line:Object.keys(c).map((e=>((e,t)=>{const r=[];for(const e of t){const t=e[e.length-1],n=(0,i.N)(t),c=[];for(const t of e){let e;if(s.includes(n)){e={state:t.state,last_changed:t.last_updated,attributes:{}};for(const r of a)r in t.attributes&&(e.attributes[r]=t.attributes[r])}else e=t;c.length>1&&d(e,c[c.length-1])&&d(e,c[c.length-2])||c.push(e)}r.push({domain:n,name:(0,o.C)(t),entity_id:t.entity_id,states:c})}return{unit:e,identifier:t.map((e=>e[0].entity_id)).join(""),data:r}})(e,c[e]))),timeline:l}},f=(e,t)=>e.callWS({type:"history/list_statistic_ids",statistic_type:t}),p=(e,t,r,n)=>e.callWS({type:"history/statistics_during_period",start_time:t.toISOString(),end_time:null==r?void 0:r.toISOString(),statistic_ids:n}),h=e=>{if(!e||e.length<2)return null;const t=e[e.length-1].sum;if(null===t)return null;const r=e[0].sum;return null===r?t:t-r},m=(e,t)=>{let r=null;for(const n of t){if(!(n in e))continue;const t=h(e[n]);null!==t&&(null===r?r=t:r+=t)}return r},y=(e,t)=>e.some((e=>null!==e[t])),g=e=>{let t=null,r=null;for(const n of e){if(0===n.length)continue;const e=new Date(n[0].start);null!==t?e<r&&(t=n[0].start,r=e):(t=n[0].start,r=e)}return t},_=(e,t)=>{let r=null;if(0===t.length)return null;const n=(e=>{const t=[],r=e.map((e=>[...e]));for(;r.some((e=>e.length>0));){const e=g(r);let n=0;for(const t of r){if(0===t.length)continue;if(t[0].start!==e)continue;const r=t.shift();r.sum&&(n+=r.sum)}t.push({start:e,sum:n})}return t})(t),i=[...e];let o=null;for(const t of n){if(new Date(t.start)>=new Date(e[0].start))break;o=t.sum}for(;i.length>0;){if(!n.length)return r;if(n[0].start!==i[0].start){new Date(n[0].start)<new Date(i[0].start)?n.shift():i.shift();continue}const e=n.shift(),t=i.shift();if(null!==o){const n=e.sum-o;null===r?r=n*(t.mean/100):r+=n*(t.mean/100)}o=e.sum}return r}},2852:(e,t,r)=>{"use strict";r.d(t,{t:()=>c});var n=r(50424),i=r(85415),o=r(73728),s=r(5986),a=r(52871);const c=(e,t)=>(0,a.w)(e,t,{loadDevicesAndAreas:!0,getFlowHandlers:async e=>{const[t]=await Promise.all([(0,o.d4)(e),e.loadBackendTranslation("title",void 0,!0)]);return t.sort(((t,r)=>(0,i.w)((0,s.Lh)(e.localize,t),(0,s.Lh)(e.localize,r))))},createFlow:async(e,t)=>{const[r]=await Promise.all([(0,o.Ky)(e,t),e.loadBackendTranslation("config",t),e.loadBackendTranslation("title",t)]);return r},fetchFlow:async(e,t)=>{const r=await(0,o.D4)(e,t);return await e.loadBackendTranslation("config",r.handler),r},handleFlowStep:o.XO,deleteFlow:o.oi,renderAbortDescription(e,t){const r=e.localize(`component.${t.handler}.config.abort.${t.reason}`,t.description_placeholders);return r?n.dy`
            <ha-markdown allowsvg breaks .content=${r}></ha-markdown>
          `:""},renderShowFormStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderShowFormStepDescription(e,t){const r=e.localize(`component.${t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return r?n.dy`
            <ha-markdown allowsvg breaks .content=${r}></ha-markdown>
          `:""},renderShowFormStepFieldLabel:(e,t,r)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.data.${r.name}`),renderShowFormStepFieldError:(e,t,r)=>e.localize(`component.${t.handler}.config.error.${r}`,t.description_placeholders),renderExternalStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize("ui.panel.config.integrations.config_flow.external_step.open_site"),renderExternalStepDescription(e,t){const r=e.localize(`component.${t.handler}.config.${t.step_id}.description`,t.description_placeholders);return n.dy`
        <p>
          ${e.localize("ui.panel.config.integrations.config_flow.external_step.description")}
        </p>
        ${r?n.dy`
              <ha-markdown
                allowsvg
                breaks
                .content=${r}
              ></ha-markdown>
            `:""}
      `},renderCreateEntryDescription(e,t){const r=e.localize(`component.${t.handler}.config.create_entry.${t.description||"default"}`,t.description_placeholders);return n.dy`
        ${r?n.dy`
              <ha-markdown
                allowsvg
                breaks
                .content=${r}
              ></ha-markdown>
            `:""}
        <p>
          ${e.localize("ui.panel.config.integrations.config_flow.created_config","name",t.title)}
        </p>
      `},renderShowFormProgressHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderShowFormProgressDescription(e,t){const r=e.localize(`component.${t.handler}.config.progress.${t.progress_action}`,t.description_placeholders);return r?n.dy`
            <ha-markdown allowsvg breaks .content=${r}></ha-markdown>
          `:""},renderLoadingDescription(e,t,r,n){if(!["loading_flow","loading_step"].includes(t))return"";const i=(null==n?void 0:n.handler)||r;return e.localize(`ui.panel.config.integrations.config_flow.loading.${t}`,{integration:i?(0,s.Lh)(e.localize,i):e.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}})},52871:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var n=r(47181);const i=()=>Promise.all([r.e(75009),r.e(78161),r.e(42955),r.e(68200),r.e(30879),r.e(29907),r.e(88985),r.e(91657),r.e(46002),r.e(30486),r.e(81480),r.e(67024),r.e(9292),r.e(16509),r.e(68331),r.e(68101),r.e(4940),r.e(40091),r.e(82132)]).then(r.bind(r,98371)),o=(e,t,r)=>{(0,n.B)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:i,dialogParams:{...t,flowConfig:r}})}},26765:(e,t,r)=>{"use strict";r.d(t,{Ys:()=>s,g7:()=>a,D9:()=>c});var n=r(47181);const i=()=>Promise.all([r.e(68200),r.e(30879),r.e(29907),r.e(49961),r.e(16509),r.e(1281)]).then(r.bind(r,1281)),o=(e,t,r)=>new Promise((o=>{const s=t.cancel,a=t.confirm;(0,n.B)(e,"show-dialog",{dialogTag:"dialog-box",dialogImport:i,dialogParams:{...t,...r,cancel:()=>{o(!(null==r||!r.prompt)&&null),s&&s()},confirm:e=>{o(null==r||!r.prompt||e),a&&a(e)}}})})),s=(e,t)=>o(e,t),a=(e,t)=>o(e,t,{confirmation:!0}),c=(e,t)=>o(e,t,{prompt:!0})},74313:(e,t,r)=>{"use strict";r.r(t);var n=r(50424),i=r(55358),o=(r(52039),r(55424)),s=(r(15291),r(1359),r(11654)),a=r(29311);r(74501),r(99012),r(84744);function c(){c=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(r){t.forEach((function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach((function(n){t.forEach((function(t){var i=t.placement;if(t.kind===n&&("static"===i||"prototype"===i)){var o="static"===i?e:r;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!u(e))return r.push(e);var t=this.decorateElement(e,i);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)}),this),!t)return{elements:r,finishers:n};var o=this.decorateConstructor(r,t);return n.push.apply(n,o.finishers),o.finishers=n,o},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&n.push(c.finisher);var l=c.extras;if(l){for(var d=0;d<l.length;d++)this.addElementPlacement(l[d],t);r.push.apply(r,l)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[n])(i)||i);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=h(e.key),n=String(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:n,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:p(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=p(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function l(e){var t,r=h(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function d(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function u(e){return e.decorators&&e.decorators.length}function f(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function p(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function h(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const y={energy_sources:[],device_consumption:[]};!function(e,t,r,n){var i=c();if(n)for(var o=0;o<n.length;o++)i=n[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),r),a=i.decorateClass(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},n=0;n<e.length;n++){var i,o=e[n];if("method"===o.kind&&(i=t.find(r)))if(f(o.descriptor)||f(i.descriptor)){if(u(o)||u(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(u(o)){if(u(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}d(o,i)}else t.push(o)}return t}(s.d.map(l)),e);i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}([(0,i.Mo)("ha-config-energy")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,i.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,i.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,i.Cb)({type:Boolean})],key:"isWide",value:void 0},{kind:"field",decorators:[(0,i.Cb)({type:Boolean})],key:"showAdvanced",value:void 0},{kind:"field",decorators:[(0,i.Cb)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,i.SB)()],key:"_searchParms",value:()=>new URLSearchParams(window.location.search)},{kind:"field",decorators:[(0,i.SB)()],key:"_preferences",value:void 0},{kind:"field",decorators:[(0,i.SB)()],key:"_error",value:void 0},{kind:"method",key:"firstUpdated",value:function(){this._fetchConfig()}},{kind:"method",key:"render",value:function(){return this._preferences||this._error?this._error?n.dy`<hass-error-screen
        .hass=${this.hass}
        .narrow=${this.narrow}
        .error=${this._error}
      ></hass-error-screen>`:n.dy`
      <hass-tabs-subpage
        .hass=${this.hass}
        .narrow=${this.narrow}
        .backPath=${this._searchParms.has("historyBack")?void 0:"/config"}
        .route=${this.route}
        .tabs=${a.configSections.experiences}
      >
        <div class="container">
          <ha-energy-grid-settings
            .hass=${this.hass}
            .preferences=${this._preferences}
            @value-changed=${this._prefsChanged}
          ></ha-energy-grid-settings>
          <ha-energy-solar-settings
            .hass=${this.hass}
            .preferences=${this._preferences}
            @value-changed=${this._prefsChanged}
          ></ha-energy-solar-settings>
          <ha-energy-device-settings
            .hass=${this.hass}
            .preferences=${this._preferences}
            @value-changed=${this._prefsChanged}
          ></ha-energy-device-settings>
        </div>
      </hass-tabs-subpage>
    `:n.dy`<hass-loading-screen
        .hass=${this.hass}
        .narrow=${this.narrow}
      ></hass-loading-screen>`}},{kind:"method",key:"_fetchConfig",value:async function(){try{this._preferences=await(0,o.ZC)(this.hass)}catch(e){"not_found"===e.code?this._preferences=y:this._error=e.message}}},{kind:"method",key:"_prefsChanged",value:function(e){this._preferences=e.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return[s.Qx,n.iv`
        ha-card {
          margin: 8px;
        }
        .container {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
          grid-gap: 8px 8px;
          padding: 8px;
        }
      `]}}]}}),n.oi)}}]);
//# sourceMappingURL=f172378c.js.map